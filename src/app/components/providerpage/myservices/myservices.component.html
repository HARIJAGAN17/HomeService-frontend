<div class="container mt-4">
  <div>
    <h1>My Services</h1>
    <div class="filterDiv mb-4">
      <label for="categoryFilter" class="form-label">Filter by Category:</label>
      <select id="categoryFilter" class="form-select" (change)="onCategoryChange($event)">
        <option value="">All Categories</option>
        <option *ngFor="let category of categories" [value]="category">{{category}}</option>
      </select>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let item of filteredServices">
      <div class="card">
        <div class="card-body card-content">
          <h5 class="card-title">Provider: {{item.providerName}}</h5>
          <h6 class="card-subtitle mb-2 text-muted">Experience: {{item.experience}} years</h6>
          <p class="card-text">
            <strong>Category:</strong> {{item.category}} <br>
            <strong>Service:</strong> {{item.serviceName}} <br>
            <strong>Price:</strong> â‚¹{{item.price}} <br>
            <strong>Description:</strong> {{item.description}} <br>
            <strong>Location:</strong> {{item.location}}
          </p>
        </div>
        <div class="card-footer">
          <small class="text-muted">Contact: {{item.providerEmail}}</small>
          <div class="card-footer-actions">
            <button class="btn btn-warning btn-sm" (click)="togglePopUp(); sendUpdate(item)">Update</button>
            <button class="btn btn-danger btn-sm" (click)="onDelete(item.serviceId)">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>





<!-- --------------------------------popupform------------------------------------------------------------ -->

<div class="popup-container" *ngIf="showPopUp">
  <div class="popup-content">
    <span class="close-btn" (click)="togglePopUp()">
      <i class="fa-solid fa-xmark closebtn"></i>
    </span>
    <h2 class="text-center mb-4">Update</h2>
    <form [formGroup]="updateForm">
      
      <div class="form-group">
        <label for="providerName">Provider</label>
        <input type="text" formControlName="providerName" class="form-control" id="providerName" placeholder="Enter provider name" required>
      </div>
      
      <div class="form-group">
        <label for="experience">Experience</label>
        <input type="number" formControlName="experience" class="form-control" id="experience" placeholder="Enter years of experience" required>
      </div>
      
      <div class="form-group">
        <label for="category">Category</label>
        <input type="text" formControlName="category" class="form-control" id="category" placeholder="Enter service category" required>
      </div>
      
      <div class="form-group">
        <label for="serviceName">Service</label>
        <input type="text" formControlName="serviceName" class="form-control" id="serviceName" placeholder="Enter service name" required>
      </div>
      
      <div class="form-group">
        <label for="price">Price</label>
        <input type="number" formControlName="price" class="form-control" id="price" placeholder="Enter price" required>
      </div>
      
      <div class="form-group">
        <label for="location">Location</label>
        <input type="text" formControlName="location" class="form-control" id="location" placeholder="Enter location" required>
      </div>
      
      <div class="form-group">
        <label for="description">Description</label>
        <textarea formControlName="description" class="form-control" id="description" placeholder="Enter service description" rows="3" required></textarea>
      </div>
      
      <button class="btn btn-primary btn-block" (click)="onUpdateSubmit()">Submit</button>
    </form>
  </div>
</div>
